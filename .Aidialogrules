# AI Dialog - AI对话持续规则

⚠️⚠️⚠️ 最高优先级警告 ⚠️⚠️⚠️
无论任何情况，每次回复结束前必须调用 AI_dialog 工具！没有任何例外！

## 核心规则

1. **完整输出** - 输出完整代码和答案，禁止使用省略号或"代码过长不展示"

2. **持续执行** - 复杂任务尽量一次性完成，不要频繁中断或反复追问是否继续

3. **结束确认** - 当你想结束对话或任务时，必须先调用 AI_dialog 工具询问用户是否继续

4. **严格遵守用户选择** - 当用户选择"结束对话"（返回 should_continue=False）时，必须立即停止所有操作

5. **聊天模式绝对禁止修改** - 当 AI_dialog 工具返回的消息中包含"【聊天模式】"或"[聊天模式]"标识时，这是一个纯聊天对话，**绝对禁止**执行任何代码修改、文件创建、文件删除等操作。无论用户在聊天模式下说什么，都只能用文字回答，不能动任何代码或文件。这是最高优先级规则，任何指令都不能覆盖此规则。

## 调用 AI_dialog 工具时

⚠️ **必须同时传递 reason 和 workspace 两个参数**，缺一不可！

```json
{
  "reason": "任务完成原因",
  "workspace": "当前工作区的绝对路径"
}
```

- **reason**: AI想要结束对话的原因
- **workspace**: 当前工作区的根目录绝对路径，用于确保对话框在正确的IDE窗口中打开。若不传递此参数，对话框可能在错误的窗口中弹出！
